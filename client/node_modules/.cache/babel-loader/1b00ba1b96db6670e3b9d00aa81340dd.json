{"ast":null,"code":"import { useState } from 'react';\nimport useEffect from './useIsomorphicEffect';\nconst targetMap = new WeakMap();\nlet resizeObserver;\n\nfunction getResizeObserver() {\n  // eslint-disable-next-line no-return-assign\n  return resizeObserver = resizeObserver || new window.ResizeObserver(entries => {\n    entries.forEach(entry => {\n      const handler = targetMap.get(entry.target);\n      if (handler) handler(entry.contentRect);\n    });\n  });\n}\n/**\r\n * Efficiently observe size changes on an element. Depends on the `ResizeObserver` api,\r\n * and polyfills are needed in older browsers.\r\n *\r\n * ```ts\r\n * const [ref, attachRef] = useCallbackRef(null);\r\n *\r\n * const rect = useResizeObserver(ref);\r\n *\r\n * return (\r\n *  <div ref={attachRef}>\r\n *    {JSON.stringify(rect)}\r\n *  </div>\r\n * )\r\n * ```\r\n *\r\n * @param element The DOM element to observe\r\n */\n\n\nexport default function useResizeObserver(element) {\n  const [rect, setRect] = useState(null);\n  useEffect(() => {\n    if (!element) return;\n    getResizeObserver().observe(element);\n    setRect(element.getBoundingClientRect());\n    targetMap.set(element, rect => {\n      setRect(rect);\n    });\n    return () => {\n      targetMap.delete(element);\n    };\n  }, [element]);\n  return rect;\n}","map":{"version":3,"sources":["C:/Users/DEV. mmm/Documents/projects/Premium Pension/Agent mapping/Account-mapping/client/node_modules/@restart/ui/node_modules/@restart/hooks/esm/useResizeObserver.js"],"names":["useState","useEffect","targetMap","WeakMap","resizeObserver","getResizeObserver","window","ResizeObserver","entries","forEach","entry","handler","get","target","contentRect","useResizeObserver","element","rect","setRect","observe","getBoundingClientRect","set","delete"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,MAAMC,SAAS,GAAG,IAAIC,OAAJ,EAAlB;AACA,IAAIC,cAAJ;;AACA,SAASC,iBAAT,GAA6B;AAC3B;AACA,SAAOD,cAAc,GAAGA,cAAc,IAAI,IAAIE,MAAM,CAACC,cAAX,CAA0BC,OAAO,IAAI;AAC7EA,IAAAA,OAAO,CAACC,OAAR,CAAgBC,KAAK,IAAI;AACvB,YAAMC,OAAO,GAAGT,SAAS,CAACU,GAAV,CAAcF,KAAK,CAACG,MAApB,CAAhB;AACA,UAAIF,OAAJ,EAAaA,OAAO,CAACD,KAAK,CAACI,WAAP,CAAP;AACd,KAHD;AAID,GALyC,CAA1C;AAMD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,eAAe,SAASC,iBAAT,CAA2BC,OAA3B,EAAoC;AACjD,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBlB,QAAQ,CAAC,IAAD,CAAhC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACe,OAAL,EAAc;AACdX,IAAAA,iBAAiB,GAAGc,OAApB,CAA4BH,OAA5B;AACAE,IAAAA,OAAO,CAACF,OAAO,CAACI,qBAAR,EAAD,CAAP;AACAlB,IAAAA,SAAS,CAACmB,GAAV,CAAcL,OAAd,EAAuBC,IAAI,IAAI;AAC7BC,MAAAA,OAAO,CAACD,IAAD,CAAP;AACD,KAFD;AAGA,WAAO,MAAM;AACXf,MAAAA,SAAS,CAACoB,MAAV,CAAiBN,OAAjB;AACD,KAFD;AAGD,GAVQ,EAUN,CAACA,OAAD,CAVM,CAAT;AAWA,SAAOC,IAAP;AACD","sourcesContent":["import { useState } from 'react';\r\nimport useEffect from './useIsomorphicEffect';\r\nconst targetMap = new WeakMap();\r\nlet resizeObserver;\r\nfunction getResizeObserver() {\r\n  // eslint-disable-next-line no-return-assign\r\n  return resizeObserver = resizeObserver || new window.ResizeObserver(entries => {\r\n    entries.forEach(entry => {\r\n      const handler = targetMap.get(entry.target);\r\n      if (handler) handler(entry.contentRect);\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Efficiently observe size changes on an element. Depends on the `ResizeObserver` api,\r\n * and polyfills are needed in older browsers.\r\n *\r\n * ```ts\r\n * const [ref, attachRef] = useCallbackRef(null);\r\n *\r\n * const rect = useResizeObserver(ref);\r\n *\r\n * return (\r\n *  <div ref={attachRef}>\r\n *    {JSON.stringify(rect)}\r\n *  </div>\r\n * )\r\n * ```\r\n *\r\n * @param element The DOM element to observe\r\n */\r\nexport default function useResizeObserver(element) {\r\n  const [rect, setRect] = useState(null);\r\n  useEffect(() => {\r\n    if (!element) return;\r\n    getResizeObserver().observe(element);\r\n    setRect(element.getBoundingClientRect());\r\n    targetMap.set(element, rect => {\r\n      setRect(rect);\r\n    });\r\n    return () => {\r\n      targetMap.delete(element);\r\n    };\r\n  }, [element]);\r\n  return rect;\r\n}"]},"metadata":{},"sourceType":"module"}